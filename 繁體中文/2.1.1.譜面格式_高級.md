# 譜面格式（高級）
這裡列出了比較難操作，或是需要對遊戲更深的理解才能使用的特殊譜面格式。

這些並不是非得要學會不可的譜面格式。但是如果您學會了他們，將可以為舞台帶來更多不可思議的效果。

建議至少寫出一兩份譜之後，再來操作這些行動。

- [重組舞台](#重組舞台)

# 重組舞台
你可以改變舞台的形狀。
這並不是指旋轉或是改變大小，而是真的改變舞台的構成。

正方形舞台
![Square](https://github.com/wiseyestudio00/Hexa-Hysteria-Chart-Reference/blob/main/pics/2.Reference/Square.png)

## 格式
```
a changestage 新舞台名稱 開始拍 執行拍 算式模式
```

[預設的舞台名稱列表](https://docs.google.com/document/d/1qoytsVbdQ8EUK1CnRc-Ril_KJwVlg2gzXNWUGEFYj_g/edit?usp=sharing)

## 示範
```
a changestage square 10 3 easeinoutsine
```
將舞台轉換成sqauare形狀，開始於第十拍，持續三拍完成動作，使用easeinoutsine

# 自訂舞台組合
除了已經預設的舞台列表，你也可以自訂舞台的形狀。

這會需要你去手動定義每一個新的舞台構成，包含每一個舞台的**位置**以及**角度**。

每一個**位置**以及**角度**都是由一個三量相座標來定位的，也就是(x, y, z)

格式如下：
```
define stageposition Stage_Position_Name 右上X座標,右上Y座標,右上Z座標 右上X角度,右上Y角度,右上Z角度 右中...右下...左下...左中...左上X座標,左上Y座標,左上Z座標 左上X角度,左上Y角度,左上Z角度
```
比如說，classichexagon的構成即為
```
define stageposition classichexagon 1.35,2.35,0 0,0,240 2.7,0,0 0,0,180 1.35,-2.35,0 0,0,120 -1.35,-2.35,0 0,0,60 -2.7,0,0 0,0,0 -1.35,2.35,0 0,0,-60
```

用圖表列出來就是

位置 | 座標 | 角度
------------ | ------------- | -------------
右上 | 1.35,2.35,0 | 0,0,240
右中 | 2.7,0,0 | 0,0,180
右下 | 1.35,-2.35,0 | 0,0,120
左下 | -1.35,-2.35,0 | 0,0,60
左中 | -2.7,0,0 | 0,0,0
左上 | -1.35,2.35,0 | 0,0,-60

（Define不需要在譜面上的特定位置。如果你想要的話，可以全部擺在譜面的最上方或最下方來保持譜面整潔。）

好，我知道你在想什麼：這也未免太複雜了而且太難用了，就算這個功能很厲害，我也不會去用他。

我也是這麼認為的，所以我設計了個[小幫手](https://github.com/wiseyestudio00/Hexa-Hysteria-Chart-Reference/blob/main/%E7%B9%81%E9%AB%94%E4%B8%AD%E6%96%87/2.4.%E8%88%9E%E5%8F%B0%E5%B9%AB%E6%89%8B.md)來協助這項作業<br>
在沒有小幫手的情況下使用這個舞台行動是非常麻煩的，極度建議使用。

## 詳細解說
### 1. 為什麼旋轉舞台時不也直接用重組舞台行動就好了？為什麼要轉攝影機？
重組舞台是非常跳脫框架的行動。
事實上，我對於這個行動稍稍地感到不安，因為他打破了「六角形」的這個基本規則。

我希望譜師是在有著100%的自信，明確地知道自己正在做什麼的情況下，才使用這個行動

擺弄攝影機，雖然也是比較特殊的行動，但他並沒有打破任何的基本規則。
如果只是想用放大/縮小，旋轉舞台等等的效果，請盡量使用移動攝影機位置。

### 2. 重組舞台時，可以保證所有的螢幕都能看到軌道嗎？（也就是說，平板或是手機都能看到同樣的效果？）
可以。**平板跟手機看到的舞台是一樣的**

### 3. 重組的途中，可以正常打擊嗎？
理論上可以。但是有沒有辦法做到手感良好的打擊則需要譜師的技巧了

### 4. 如果說舞台有重疊的情況，會發生什麼事呢？
在上方的舞台會被點擊到，下方的則不會。

### 5. 不在鏡頭內的舞台，會發生什麼事呢？
不在鏡頭內的舞台，並不是消失了，只是在鏡頭外而已

**如果攝影機轉到奇怪的角度，還是有可能看到**

如果真的不想被看到，請搭配 `舞台換色` 行動做使用（將不想要被看到的舞台變透明）

### 6. 我要怎麼知道預設舞台的軌道是哪條？
只要在寫作模式，預設舞台軌道的名稱都有標示出來了

## 注意事項
### 1. 舞台的名字不能重複
比如說，現在預設舞台名稱中已經有butterfly_6了，那你就不能再用一次butterfly_6當做新的台名稱。

你自己新創立的舞台也不行。比如說，你今天新設了一個舞台名叫S6，那你在同一份譜中就不能再define一次S6。

### 2. 角度的差別
-60跟300，在玩家的角度看來，是一樣的角度。

但是，如果有一個舞台從-60被調整到300，他會 **旋轉一圈（加360度）** 。

如果這不是您想要的效果，那請特別注意（但這也可能會是你想要的效果。）

### 3. 跟 MoveStage 的關係
`MoveStage`加上`ChangeStage`，會發生什麼事呢？

想像舞台的六條軌道被裝在一個大箱子裡，我們移動軌道本體（`ChangeStage`），是在箱子裡進行的，而`MoveStage`是移動整個箱子。

# 單軌
`a s_movetrail 位置（lt lc lb rt rc rb） abs_angle 項目（x, y, z） 開始拍 執行拍 新數值 模式算式`
`a s_movetrail 位置（lt lc lb rt rc rb） angle 項目（x, y, z） 開始拍 執行拍 新數值 模式算式`

`a s_movetrail 位置（lt lc lb rt rc rb） position 項目（x, y, z） 開始拍 執行拍 新數值 模式算式`
`a s_movetrail 位置（lt lc lb rt rc rb） abs_position 項目（x, y, z） 開始拍 執行拍 新數值 模式算式`
