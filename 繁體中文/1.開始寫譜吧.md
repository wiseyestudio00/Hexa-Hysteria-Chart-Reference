# 開始寫譜吧
目前您只能通過iOS來下載測試版的Hexa Hysteria。

## 寫譜前的步驟
### 1. 通過 TestFlight 下載 Hexa Hysteria
想要獲得開發版的Hexa Hysteria，有兩種方式。

#### - 提供Apple ID
首先，請提供您的Apple ID，等待邀請連結
到App Store下載TestFlight
邀請發出後，您將在電子郵箱裡收到邀請連結，點擊連結就可以下載Hexa Hysteria了

#### - Discord群組的Public Link
您也可以在Hexa Hysteria的Discord群組，Announcement裡找到Hexa Hysteria的Public Link。
點擊Public Link，就可以得到Hexa Hysteria的下載權了。

不管您通過哪種方式下載Hexa Hysteria，得到的版本都會是相同的。

### 2. 寫譜前須知
您必須至少將iOS版本更新至11之後才能使用寫譜的功能。

寫譜前，打開`File App`，到Hexa Hysteria/TestChart
裡面有三個檔案：`audio.ogg`，`level.json`，`chart.txt`

他們分別負責：
`audio.ogg`：音檔
`level.json`：舞台所需的資訊（BPM, 作曲家，First Beat Offset...等等）
`chart.txt`：譜面
這三個檔案為構成譜面的要素。因此，您只要更改這些文件的內容，就能製作新譜面了

#### 更換檔案的方法
所有的檔案（audio.ogg，level.json）都已經整理好並上傳至[Google Drive](https://drive.google.com/drive/folders/1OVhzocI_K-VGWh_WhW6M6a4sB3SYkE1L?usp=sharing)
在您要寫譜的裝置上，點擊上面的連結，選擇要製作譜面的歌曲，下載audio.wav跟level.json到File App中。
> 下載方式
> 選擇目標歌曲資料夾
> 點擊三個點的按鈕
> 選擇「開啟方式」
> 匯出
> 匯出完成後，點「儲存到檔案」
> 儲存至TestChart的檔案夾
> 我的iPad/Hexa Hysteria/TestChart
> 「要取代現有的項目嗎？」選擇「取代」
> audio.wav跟level.json都要下載並取代

取代完成後，就能開始寫譜了

### 3. 推薦的寫譜的方法
在App Store上，下載免費軟體[Pretext](https://apps.apple.com/tw/app/pretext/id1347707000)。
這是文字編輯器，讓你能在iOS上編輯文字
在Pretext裡，選擇`我的裝置/Hexa Hysteria/TestChart/chart`
開啟後就能製作譜面了
譜面的格式，請參照[2.譜面格式.md]()

### 4. 在遊戲內測試譜面
打開Hexa Hysteria
點擊右下角的白色長方形開啟測試版選單
![Image of Main Menu](https://octodex.github.com/images/yaktocat.png)

上面有幾個按鍵，這邊講解一下他們的功能
點擊「Use Test Chart」後，點擊「Enter Stage」，就會進入舞台測試譜面
點擊Check Chart，遊戲會試著幫你找到譜面裡的錯誤

會顯示一個對話框，告訴你找到的問題
Start From Beat，更改這個數值，就能讓譜直接從那個拍子開始
比如說，輸入40，就能直接從第40拍開始測試
輸入數值，進入舞台後，音樂會先播個幾秒，音符才會開始出來，這是正常的
在那個拍子之前的音符跟舞台行動都會自動取消。如果想測試舞台行動的效果，請至少從行動開始前一拍進行測試
Esti Help Me，點開之後，艾斯提就會出現，幫你把測試中的譜面打到All Perfect
謝謝艾斯提
選單的更下方，是「Add Key」跟「End Screen」
「Add Key」會增加這個章節的memory key（遊戲機制的一環）。
如果在沒有進入章節選單的情況下誤觸，遊戲會當機並關閉，請注意。
End Screen會讓遊戲跳到結算畫面。
如果在沒有進入舞台的情況下點擊他，遊戲也會當機並關閉，請注意。
注意，寫完譜之後，請立刻保存到另一個資料夾，或是直接寄至wiseyestudio00@gmail.com，如果檔案不幸遺失是無法復原的。

常見問題
我可以在遊戲還開著的情況下寫譜嗎？
可以，你可以分割畫面，然後用Pretext寫譜。譜面會立刻反應至遊戲內
你可以在舞台內，直接點開暫停選單，直接按Retry，或是在測試選單裡按Enter Stage，就可以重新測試了
我感覺我的譜面有bug，好像有些音符或行動沒顯示出來，或是會閃退？
先試試看譜面確認程式
但是，這個程式並不是100%準確的。如果按下這個鈕後，遊戲閃退，就表示你的譜面連譜面偵測程式都過不了
他只能檢查多餘的空格，正確的算式模式，以及一些音符上的錯誤而已
不過，多餘的空格，可能是最常出現的錯誤了
請不要寫太過浮誇或近乎不可能的行動
例如
a changecamera angle 10 10 0 0 -360 easeinoutsine
a changecamera angle 10 10 0 0 360 easeinoutsine
(這個譜面會在同樣的時間同時將鏡頭轉向兩個相反的方向)
這樣的指令會造成系統錯誤，請不要嘗試
原則上來說，請不要在同一個時間內使用同樣的行動
檢查錯字，如果有錯字的話，應該會閃退
檢查舞台行動的格式
檢查有沒有寫n, a？
iPad一直鎖定大寫，寫起來好麻煩，譜面的大小寫有差嗎？
大小寫都可以，大小寫並不會影響譜面的創作
我按Enter Stage後，遊戲就當機/閃退了
請確定你有點開Use Test Chart，或是Start First Beat沒有超過音樂的長度
然後，請再確認你的譜面沒有錯誤（參考上面的問題）
我可以在譜面上寫不是譜面本身的備註嗎？
可以，只要那一行的開頭不是n或是a，遊戲就不會讀取
我感覺譜面的第零拍/BPM的節奏不對
可能是level.json資料有誤，如果發現類似錯誤的情形，請聯繫我
我想要Story Broad
Hexa Hysteria目前還在開發階段，我知道大家都很期待遊戲的完整功能，但譜面的創作目前才是當務之急~後續的更新都回持續上傳至TestFlight，請各位敬請期待~
